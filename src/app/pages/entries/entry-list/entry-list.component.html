<app-bread-crumb
        [items]="[{text: 'Lançamentos'}]"
></app-bread-crumb>

<div class="bd-callout bd-callout-info row m-0">
    <div class="col-auto me-auto">
        <h3 class="pt-2 text-black-50">Lançamentos</h3>
    </div>
    <div class="col-auto pt-1">
        <a routerLink="new" class="btn btn-success">+ Novo Lançamento</a>
    </div>
</div>

<div class="my-3 p-3 bg-body rounded shadow-sm">
    <h4 class="pb-4 text-opacity-25">Lista de lançamentos</h4>
    <table class="table table-bordered table-hover caption-top">
        <thead class="table-light">
        <tr>
            <th scope="col">Lançamento</th>
            <th scope="col" class="text-center">Categoria</th>
            <th scope="col" class="text-center">Valor R$</th>
            <th scope="col" class="w-25 p-2 text-center">Ações</th>
        </tr>
        </thead>
        <tbody>
            <tr *ngFor="let entry of resources">
                <td>
                    <strong>{{ entry.name }}</strong><br>
                    <small class="text-success">{{ entry.date }}</small><br>
                    <small *ngIf="entry.description">{{ entry.description }}</small>
                </td>
                <td class="text-center">
                    {{ entry.category?.name }}
                </td>
                <td class="text-end">
                    <strong [class.text-success]="entry.type == 'revenue'" [class.text-danger]="entry.type == 'expense'" >
                    {{ entry.amount }}
                    </strong>
                    <br>
                    <span class="badge rounded-pill" [class.bg-danger]="entry.paid == false" [class.bg-success]="entry.paid == true">{{entry.paidText}}</span>
                </td>
                <td class="w-25 p-2 text-center">
                    <a [routerLink]="[entry.id, 'edit']" class="btn btn-outline-info btn-sm m-2">Editar</a>
                    <button (click)="deleteResource(entry)" class="btn btn-outline-danger btn-sm">Deletar</button>
                </td>
            </tr>
        </tbody>
    </table>
</div>
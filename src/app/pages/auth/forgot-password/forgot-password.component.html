<div class="forgot-password-container">
  <div class="forgot-password-card">
    
    <!-- Estado: Formulário de envio -->
    <div *ngIf="!emailSent" class="form-state">
      <div class="forgot-password-header">
        <h1 class="forgot-password-title">Esqueci minha senha</h1>
        <p class="forgot-password-subtitle">
          Digite seu email para receber instruções de redefinição
        </p>
      </div>

      <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()" class="forgot-password-form">
        <div class="form-group">
          <label for="email" class="form-label">Email</label>
          <input
            id="email"
            type="email"
            formControlName="email"
            class="form-control"
            [ngClass]="{'is-invalid': forgotPasswordForm.get('email')?.invalid && forgotPasswordForm.get('email')?.touched}"
            placeholder="Digite seu email"
            autocomplete="email"
          />
          <app-form-field-error [form-control]="forgotPasswordForm.get('email')"></app-form-field-error>
        </div>

        <div class="form-actions">
          <button
            type="submit"
            class="btn btn-primary btn-block"
            [disabled]="submittingForm"
          >
            <span *ngIf="submittingForm" class="spinner"></span>
            {{ submittingForm ? 'Enviando...' : 'Enviar Instruções' }}
          </button>
        </div>
      </form>

      <div class="forgot-password-footer">
        <div class="back-to-login">
          <a routerLink="/auth/login">← Voltar para o login</a>
        </div>
      </div>
    </div>

    <!-- Estado: Email enviado com sucesso -->
    <div *ngIf="emailSent" class="success-state">
      <div class="success-icon">
        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="12" cy="12" r="12" fill="#10B981"/>
          <path d="M8 12L11 15L16 9" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
      
      <h2 class="success-title">Email enviado!</h2>
      <p class="success-message">
        Verifique sua caixa de entrada e siga as instruções para redefinir sua senha.
      </p>
      
      <div class="success-actions">
        <button type="button" class="btn btn-primary" (click)="backToLogin()">
          Voltar para o Login
        </button>
        
        <button type="button" class="btn btn-outline" (click)="resendEmail()">
          Reenviar Email
        </button>
      </div>
    </div>

  </div>
</div> 